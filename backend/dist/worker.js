!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,t,o){const{createResponseType:n}=o(10),r=n("application/json; charset=utf-8");e.exports={json:r}},function(e,t){e.exports={Router:({base:e="",routes:t=[]}={})=>({__proto__:new Proxy({},{get:(o,n,r)=>(o,...s)=>t.push([n.toUpperCase(),RegExp(`^${(e+o).replace(/(\/?)\*/g,"($1.*)?").replace(/\/$/,"").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3").replace(/\.(?=[\w(])/,"\\.")}/*$`),s])&&r}),routes:t,async handle(e,...o){let n,r,s=new URL(e.url);for(var[a,c,u]of(e.query=Object.fromEntries(s.searchParams),t))if((a===e.method||"ALL"===a)&&(r=s.pathname.match(c)))for(var i of(e.params=r.groups,u))if(void 0!==(n=await i(e.proxy||e,...o)))return n}})}},function(e,t,o){e.exports={...o(3),...o(0),...o(11),...o(12),...o(13)}},function(e,t,o){const{json:n}=o(0);e.exports={error:(e=500,t="Internal Server Error.")=>n({..."object"==typeof t?t:{status:e,error:t}},{status:e})}},function(e,t,o){"use strict";o.r(t);var n=o(1);o(5);const r=Object(n.Router)();r.get("/",()=>new Response("Hello, world! This is the root page of your Worker template.")),r.get("/namespaces/:accountId",async e=>{const t=e.params.accountId,o=e.query.apiKey,n=await fetch("https://api.cloudflare.com/client/v4/accounts/"+t+"/storage/kv/namespaces",{headers:{Authorization:o}}).then(e=>e.json());return new Response(JSON.stringify(n,null,2),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"application/json"}})}),r.post("/namespaces/:account_id",e=>{e.params.account_id,e.headers.get("Authorization")}),r.post("/post",async e=>{let t={asn:e.cf.asn,colo:e.cf.colo};"application/json"===e.headers.get("Content-Type")&&(t.json=await e.json());const o=JSON.stringify(t,null,2);return new Response(o,{headers:{"Content-Type":"application/json"}})}),r.all("*",()=>new Response("404, not found!",{status:404})),addEventListener("fetch",e=>{e.respondWith(r.handle(e.request))})},function(e,t,o){e.exports={...o(6),...o(2),...o(14),...o(16)}},function(e,t,o){e.exports={...o(7),...o(8),...o(9)}},function(e,t){e.exports={withContent:async e=>{let t=e.headers.get("content-type");e.content=void 0;try{t&&t.includes("application/json")&&(e.content=await e.json())}catch(e){}}}},function(e,t){e.exports={withCookies:e=>{e.cookies={};try{e.cookies=(e.headers.get("Cookie")||"").split(/;\s*/).map(e=>e.split("=")).reduce((e,[t,o])=>(e[t]=o,e),{})}catch(e){}}}},function(e,t){e.exports={withParams:e=>{for(const t in e.params||{})e[t]=e.params[t]}}},function(e,t){e.exports={createResponseType:(e="text/plain; charset=utf-8")=>(t,o={})=>{const{headers:n={},...r}=o;return"object"==typeof t?new Response(JSON.stringify(t),{headers:{"Content-Type":e,...n},...r}):new Response(t,o)}}},function(e,t,o){const{error:n}=o(3);e.exports={missing:(e="Not found.")=>n(404,e)}},function(e,t,o){const{json:n}=o(0);e.exports={status:(e,t)=>t?n({..."object"==typeof t?t:{status:e,message:t}},{status:e}):new Response(null,{status:e})}},function(e,t){e.exports={text:(e,t={})=>new Response(e,t)}},function(e,t,o){e.exports={...o(15)}},function(e,t,o){"use strict";const{Router:n}=o(1),{error:r}=o(2);e.exports={ThrowableRouter:(e={})=>{const{stack:t=!1}=e;return new Proxy(n(e),{get:(e,o)=>(...n)=>"handle"===o?e[o](...n).catch(e=>r(e.status||500,{status:e.status||500,error:e.message,stack:t&&e.stack||void 0})):e[o](...n)})}}},function(e,t,o){e.exports={...o(17)}},function(e,t){class o extends Error{constructor(e=500,t="Internal Error."){super(t),this.name="StatusError",this.status=e}}e.exports={StatusError:o}}]);